<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <title>Text to video tool</title>
        <link rel="stylesheet" href="lib/style.css" />
        <link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico" />
    </head>

    <body>
        <nav id="nav">
            <h1>摩耳视频生成助手</h1>
            <div class="info">助手服务状态：<span id="server" class="error"></span><button id="doPing">刷新</button></div>
            <div class="switcher"><button id="panel1" class="selected">生成工具</button><button id="panel2" class="unselected">管理工具</button></div>
            <div class="controls" id="tool_a">
                <div>
                    <ul id="left-panel">
                        <li class="menu subtitle">素材准备</li>
                        <li class="menu">
                            <div id="basket" style="display: flex;"><div>拖放导入数据</div><div id="doRestoreStorage">点击恢复内存</div></div>
                            <div id="info" style="display: none;"></div>
                        </li>
                        <li class="menu files">
                            <button id="doExportData">导出数据</button>
                        </li>
                        <li class="menu"><hr /></li>
                        <li class="menu subtitle">操作范围和 slide</li>
                        <li class="menu subsetting">
                            <input type="text" id="themename" value="" placeholder="背景图名称" />
                            <svg id="icon-plus" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><title>背景图id+</title>
                                <path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2m3 11h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V9a1 1 0 0 1 2 0v2h2a1 1 0 0 1 0 2" />
                            </svg><svg id="icon-minus" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><title>背景图id-</title>
                                <path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2m3 11H9a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2" />
                            </svg><svg id="icon-save" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><title>背景图名字写入范围</title>
                                <path d="M5 21h14a2 2 0 0 0 2-2V8l-5-5H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2M7 5h4v2h2V5h2v4H7zm0 8h10v6H7z" />
                            </svg>
                        </li>
                        <li class="menu subsetting">
                            <input type="text" id="startid" /> 到 <input type="text" id="endid" />
                            <svg id="icon-confirm" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><title>修改作用范围</title>
                                <path d="M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10s-4.477 10-10 10M8 10l-2 2l5 5l7-7l-2-2l-5 5z"/>
                            </svg><svg id="icon-verify" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><title>检查范围内素材的背景图</title>
                                <path d="M4 21q-.825 0-1.412-.587T2 19V5q0-.825.588-1.412T4 3h16q.825 0 1.413.588T22 5v14q0 .825-.587 1.413T20 21zm1-4h5v-2H5zm9.55-2l4.95-4.95l-1.425-1.425l-3.525 3.55l-1.425-1.425l-1.4 1.425zM5 13h5v-2H5zm0-4h5V7H5z"/>
                            </svg>
                        </li>
                        <li class="menu"><hr /></li>
                        <li class="menu subtitle">定位和标记 sid</li>
                        <li class="menu subsetting">
                            <input type="text" id="locateid" value="" placeholder="查找" />
                            <svg id="icon-locate" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><title>在屏幕内显示sid素材</title>
                                <path d="M12 11.5A2.5 2.5 0 0 1 9.5 9A2.5 2.5 0 0 1 12 6.5A2.5 2.5 0 0 1 14.5 9a2.5 2.5 0 0 1-2.5 2.5M12 2a7 7 0 0 0-7 7c0 5.25 7 13 7 13s7-7.75 7-13a7 7 0 0 0-7-7"/>
                            </svg>
                            <input type="text" id="marknum" value="" placeholder="标记" />
                            <svg id="icon-mark" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><title>按指定sid间隔标记素材</title>
                                <path d="M15.586 3a2 2 0 0 1 2.828 0L21 5.586a2 2 0 0 1 0 2.828L19.414 10L14 4.586zm-3 3l-9 9A2 2 0 0 0 3 16.414V19a2 2 0 0 0 2 2h2.586A2 2 0 0 0 9 20.414l9-9z" />
                            </svg>
                        </li>
                    </ul>
                </div>
                <div>
                    <ul id="right-panel">
                        <li class="menu subtitle">开始生成</li>
                        <li class="menu radio">
                            <select id="program" name="program">
                                <option value="listen" selected>听力视频</option>
                                <option value="read">双语视频</option>
                                <option value="pure">单语视频</option>
                            </select>
                        </li>
                        <li class="menu"><button id="doTranslate">1.素材翻译</button></li>
                        <li class="menu"><button id="doGenPhonetic">2.拼音音标</button></li>
                        <li class="menu"><button id="doGenAudio">3.音频素材</button></li>
                        <li class="menu"><button id="doGenSlide">4.字幕素材</button></li>
                        <li class="menu"><button id="doGenVideo">5.视频素材</button></li>
                        <li class="menu"><button id="doEstimate">6.工程估算</button></li>
                        <li class="menu"><button id="doBuild">7.生成作品</button></li>
                    </ul>
                </div>
            </div>
            <div class="assistant" id="tool_b" style="display: none">
                <div class="subtitle">新建项目</div>
                <div><input id="book_cn" type="text" placeholder="中文书名" /><input id="book_en" type="text" placeholder="英文书名" /></div>
                <div>
                    <input id="book_abbr" type="text" placeholder="书名缩写" /><select id="style" name="style">
                        <option value="chinese" selected>练习中文</option>
                        <option value="english">练习英语</option>
                    </select>
                </div>
                <div>
                    <button id="doNewBook">新建书本</button
                    ><button id="doMoveTemplate">移动模板</button>
                </div>
                <div class="subtitle">复制命令和文案</div>
                <div><input id="video_intro" type="text" placeholder="片头文件名" /><button id="doGenTranasCmd">片头转码</button></div>
                <div><button id="doOpenPublishTool">视频发布工具</button></div>
            </div>

            <div class="console"><div id="log"></div></div>
        </nav>
        <div id="content"><table id="material"><thead></thead><tbody></tbody></table></div>
        <div id="edittool" style="display:none;">
            <div id="edittool-unlocked">
                <button id="doCellEdit">编辑</button><button id="doMakeSentence">造句</button><button id="doCellTranslate">翻译</button><button id="doCellPinyin">拼音</button><button id="doGenLineMedia">素材</button>
            </div>
            <div id="edittool-locked" style="display:none;">
                <button id="doEditDone">完成</button><button id="doEditRestore">恢复</button>
            </div>
        </div>
        <div id="sd-container">
            <div id="sd-info">造句框</div>
            <div id="sd-dialog">
                <div class="sd-text">候选句子</div>
                <div id="sd-candidate">
                    <ul id="sd-dict"></ul>
                    <div id="sd-custom"><input type="text" id="sd-input" placeholder="自造句" /><button id="sd-custom-input">添加</button></div>
                </div>
                <div class="sd-text">选中句子</div>
                <div id="sd-selected">
                    <ul id="sd-materials"></ul>
                </div>
                <div id="sd-action">
                    <div id="sd-modesetting"><button id="doSentenceSwitchMode">切换模式</button> 当前模式：<span id="sd-status" style="color: #4b4;">编辑</span></div>
                    <button id="doSentenceConfirm">插入素材</button>
                    <button id="doSentenceCancel">取消操作</button>
                </div>
            </div>
        </div>
    </body>
    <script src="lib/pinyin.js"></script>
    <script src="lib/xlsx.bundle.js"></script>
    <script src="tool-conf.js"></script>
    <script src="tool-util.js"></script>
    <script src="tool-net.js"></script>
    <script src="tool-action.js"></script>
    <script src="tool-io.js"></script>
    <script src="tool-ui.js"></script>
    <script>
        util.initMaterial();
    </script>
</html>
